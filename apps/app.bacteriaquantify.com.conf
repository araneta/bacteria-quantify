server {

	# SSL configuration
	#
	listen 80;
	listen   [::]:80;
	#listen 443 default ssl;
	# listen [::]:443 ssl default_server;
        
	#
	# Note: You should disable gzip for SSL traffic.
	# See: https://bugs.debian.org/773332
	#
	# Read up on ssl_ciphers to ensure a secure configuration.
	# See: https://bugs.debian.org/765782
	#
	# Self signed certs generated by the ssl-cert package
	# Don't use them in a production server!
	#
	# include snippets/snakeoil.conf;

	root /home/aldo/bacteria-quantify/apps/dist/public;
                
	# Add index.php to the list if you are using PHP
	index index.php index.html index.htm index.nginx-debian.html;

	server_name app.bacteriaquantify.com 127.0.0.1;        
	location = /favicon.ico { log_not_found off; access_log off; }
	location = /robots.txt { log_not_found off; access_log off; allow all; }
	location ~* \.(css|gif|ico|jpeg|jpg|js|png)$ {
		expires max;
		log_not_found off;
	}
	
    location / {
        proxy_pass http://localhost:8080;
    }

	# deny access to .htaccess files, if Apache's document root
	# concurs with nginx's one
	#
	location ~ /\.ht {
		deny all;
	}
	
	location ^~ /userImages/ {
	}

   
   
  listen 443 ;
  listen [::]:443 ;
  ssl_reject_handshake on;
    server_name app.bacteriaquantify.com; # managed by Certbot
  return 444;
    ssl_certificate /etc/letsencrypt/live/app.bacteriaquantify.com/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/app.bacteriaquantify.com/privkey.pem; # managed by Certbot

}

